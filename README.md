 * Оптимизировать запросы в базу данных. Работу функций оптимизировать не нужно, только оптимизация работы с базой данных.
 * Акцент стоит ставить на скорость работы и количество запросов. В идеале вся работа должна быть выполнена за 2 sql запроса.
